.form-wrapper
  %h2 Edit Settings

  = form_for(resource, :as => resource_name, :url => registration_path(resource_name), :html => { :method => :put }) do |f|
    = devise_error_messages!

    %div
      = f.label :email, :class => "text-field-label"
      = f.email_field :email, :autofocus => true, :class => "text-field-input"

    %div
      = f.label :name, :class => "text-field-label"
      = f.text_field :name, :class => "text-field-input"

    - if devise_mapping.confirmable? && resource.pending_reconfirmation?
      %div 
        = "Currently waiting confirmation for: #{resource.unconfirmed_email}"

    %div
      = f.label :password, :class => "text-field-label"
      = f.password_field :password, :autocomplete => "off", :class => "text-field-input"

    %div
      = f.label :password_confirmation, :class => "text-field-label"
      = f.password_field :password_confirmation, :class => "text-field-input"

    %div
      = f.label :current_password, :class => "text-field-label"
      = f.password_field :current_password, :class => "text-field-input"

    .submit-field
      = f.submit "Update", :class => "submit-field-input"

  .submit-field
    = button_to "Delete my account", registration_path(resource_name), :class => "submit-field-input error confirmation-required", :method => :delete